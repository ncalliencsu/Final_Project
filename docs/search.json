[
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "EDA",
    "section": "",
    "text": "The Behavioral Risk Factor Surveillance System (BRFSS) is a health-related telephone survey that is collected annually by the CDC. Each year, the survey collects responses from over 400,000 Americans on health-related risk behaviors, chronic health conditions, and the use of preventative services. It has been conducted every year since 1984. For this ST-558 project, diabetes binary health indicators BRFSS2015.csv is a clean dataset of 253,680 survey responses to the CDC’s BRFSS2015. The variables in the data set are listed and described below:\n\nDiabetes_binary\n0 = no diabetes 1 = prediabetes 2 = diabetes\nHighBP\n0 = no high BP 1 = high BP\nHighChol\n0 = no high cholesterol 1 = high cholesterol\nCholCheck\n0 = no cholesterol check in 5 years\n1 = yes cholesterol check in 5 years\nBMI Body Mass Index\nSmoker\nHave you smoked at least 100 cigarettes in your entire life?\n[Note: 5 packs = 100 cigarettes]\n0 = no 1 = yes\nStroke\n(Ever told) you had a stroke.\n0 = no 1 = yes\nHeartDiseaseorAttack\ncoronary heart disease (CHD) or myocardial infarction (MI)\n0 = no 1 = yes\nPhysActivity\nphysical activity in past 30 days - not including job\n0 = no 1 = yes\nFruits\nConsume Fruit 1 or more times per day\n0 = no 1 = yes\nVeggies\nConsume Vegetables 1 or more times per day\n0 = no 1 = yes\nHvyAlcoholConsump\n(adult men &gt;=14 drinks per week and adult women&gt;=7 drinks per week)\n0 = no 1 = yes\nAnyHealthcare\nHave any kind of health care coverage, including health insurance, prepaid plans such as HMO, etc.\n0 = no 1 = yes\nNoDocbcCost\nWas there a time in the past 12 months when you needed to see a doctor but could not because of cost?\n0 = no 1 = yes\nGenHlth\nWould you say that in general your health is:\nscale 1-5\n1 = excellent\n2 = very good\n3 = good\n4 = fair\n5 = poor\nMentHlth\ndays of poor mental health\nscale 1-30 days\nPhysHlth\nphysical illness or injury days in past 30 days\nscale 1-30\nDiffWalk\nDo you have serious difficulty walking or climbing stairs?\n0 = no 1 = yes\nSex\n0 = female 1 = male\nAge\n13-level age category (_AGEG5YR see codebook)  1 = 18-24\n9 = 60-64\n13 = 80 or older\nEducation\nEducation level (EDUCA see codebook)\nscale 1-6\n1 = Never attended school or only kindergarten 2 = elementary etc.\nIncome\nIncome scale (INCOME2 see codebook)\nscale 1-8m\n1 = less than $10,000\n5 = less than $35,000\n8 = $75,000 or more\n\nThe target variable Diabetes_binary has 2 classes. 0 is for no diabetes, and 1 is for prediabetes or diabetes. This dataset has 21 predictor variables and is not balanced.”Not balanced” refers to the distribution of the target classes (in this case, Diabetes_binary = 0 or 1). The number of samples in each class is unequal—one class (e.g., no diabetes) has more samples than the other (e.g., prediabetes or diabetes). The plan going in is to look consider all predictor variables.\nThe objectives of the EDA are:\n\nbasic validation of the data,\ndetermine rate of missing values.\nassign appropriate types to variables,\nInvestigate distributions ▪ Univariate measures/graphs ▪ Multivariate measures/graphs\n\nThe goal of the EDA is to inform the modeling process in the selection of model types.\n\nlibrary(gt)\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(psych)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ ggplot2::%+%()   masks psych::%+%()\n✖ ggplot2::alpha() masks psych::alpha()\n✖ dplyr::filter()  masks stats::filter()\n✖ dplyr::lag()     masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(vcd)\n\nLoading required package: grid"
  },
  {
    "objectID": "Modeling.html",
    "href": "Modeling.html",
    "title": "Modeling",
    "section": "",
    "text": "The Behavioral Risk Factor Surveillance System (BRFSS) is a health-related telephone survey that is collected annually by the CDC. Each year, the survey collects responses from over 400,000 Americans on health-related risk behaviors, chronic health conditions, and the use of preventative services. It has been conducted every year since 1984. For this ST-558 project, diabetes binary health indicators BRFSS2015.csv is a clean dataset of 253,680 survey responses to the CDC’s BRFSS2015. The variables in the data set are listed and described below:\n\nDiabetes_binary\n0 = no diabetes 1 = prediabetes 2 = diabetes\nHighBP\n0 = no high BP 1 = high BP\nHighChol\n0 = no high cholesterol 1 = high cholesterol\nCholCheck\n0 = no cholesterol check in 5 years\n1 = yes cholesterol check in 5 years\nBMI Body Mass Index\nSmoker\nHave you smoked at least 100 cigarettes in your entire life?\n[Note: 5 packs = 100 cigarettes]\n0 = no 1 = yes\nStroke\n(Ever told) you had a stroke.\n0 = no 1 = yes\nHeartDiseaseorAttack\ncoronary heart disease (CHD) or myocardial infarction (MI)\n0 = no 1 = yes\nPhysActivity\nphysical activity in past 30 days - not including job\n0 = no 1 = yes\nFruits\nConsume Fruit 1 or more times per day\n0 = no 1 = yes\nVeggies\nConsume Vegetables 1 or more times per day\n0 = no 1 = yes\nHvyAlcoholConsump\n(adult men &gt;=14 drinks per week and adult women&gt;=7 drinks per week)\n0 = no 1 = yes\nAnyHealthcare\nHave any kind of health care coverage, including health insurance, prepaid plans such as HMO, etc.\n0 = no 1 = yes\nNoDocbcCost\nWas there a time in the past 12 months when you needed to see a doctor but could not because of cost?\n0 = no 1 = yes\nGenHlth\nWould you say that in general your health is:\nscale 1-5\n1 = excellent\n2 = very good\n3 = good\n4 = fair\n5 = poor\nMentHlth\ndays of poor mental health\nscale 1-30 days\nPhysHlth\nphysical illness or injury days in past 30 days\nscale 1-30\nDiffWalk\nDo you have serious difficulty walking or climbing stairs?\n0 = no 1 = yes\nSex\n0 = female 1 = male\nAge\n13-level age category (_AGEG5YR see codebook)  1 = 18-24\n9 = 60-64\n13 = 80 or older\nEducation\nEducation level (EDUCA see codebook)\nscale 1-6\n1 = Never attended school or only kindergarten 2 = elementary etc.\nIncome\nIncome scale (INCOME2 see codebook)\nscale 1-8m\n1 = less than $10,000\n5 = less than $35,000  8 = $75,000 or more\n\nThe target variable Diabetes_binary has 2 classes. 0 is for no diabetes, and 1 is for prediabetes or diabetes. This dataset has 21 predictor variables and is not balanced.”Not balanced” refers to the distribution of the target classes (in this case, Diabetes_binary = 0 or 1). The number of samples in each class is unequal—one class (e.g., no diabetes) has more samples than the other (e.g., prediabetes or diabetes).\nThe objectives of the Modeling effort are:\n\nsplit the data into a training and test set\nbuild a family of classification tree models on the training set using at least 5 predictors and a grid of tuning parameters.\nbuild a family of random forest models using on the training set using at least 5 predictors and a grid of tuning parameters.\nselect the best model from each family using log-loss and 5 fold Cross-Validation\n\nThe ultimate goal of the modeling process is to develop and select a final best model (Random Forest or Classification Tree) for predicting the Diabetes variable by considering the log-loss of the models on the test set. The vehicle for all this work is the tidymodels framework."
  },
  {
    "objectID": "Modeling.html#split-the-data-and-create-cv-folds",
    "href": "Modeling.html#split-the-data-and-create-cv-folds",
    "title": "Modeling",
    "section": "Split the Data and Create CV Folds",
    "text": "Split the Data and Create CV Folds\n\nset.seed(222)\n# Put 7/10 of the data into the training set.  df_split is the Test Set. \ndf_split &lt;- initial_split(df, prop = 7/10)\n               \n# Create data frames for the two sets:\ndf_train_data &lt;- training(df_split)\ndf_test_data  &lt;- testing(df_split)\n\n#On the training set, create a 5 fold CV split\ndf_CV_folds &lt;- vfold_cv(df_train_data, 5)"
  },
  {
    "objectID": "Modeling.html#create-recipe",
    "href": "Modeling.html#create-recipe",
    "title": "Modeling",
    "section": "Create Recipe",
    "text": "Create Recipe\n\nrecipe1 &lt;- \n    recipe(Diabetes ~ ., data = df_train_data) |&gt; \n    step_normalize(all_integer_predictors()) |&gt;\n    step_dummy(all_nominal_predictors())"
  },
  {
    "objectID": "Modeling.html#define-classification-tree-cltree-model-and-engine",
    "href": "Modeling.html#define-classification-tree-cltree-model-and-engine",
    "title": "Modeling",
    "section": "Define Classification Tree (CLTREE) Model and Engine",
    "text": "Define Classification Tree (CLTREE) Model and Engine\n\nCLTREE_model &lt;- \n  decision_tree(tree_depth = tune(),\n                min_n = 20,\n                cost_complexity = tune()) |&gt;\n  set_engine(\"rpart\") |&gt;\n  set_mode(\"classification\")"
  },
  {
    "objectID": "Modeling.html#create-workflow-for-cltree-model",
    "href": "Modeling.html#create-workflow-for-cltree-model",
    "title": "Modeling",
    "section": "Create Workflow for CLTREE Model",
    "text": "Create Workflow for CLTREE Model\n\nCLTREE_wkf &lt;- workflow() |&gt;\n  add_recipe(recipe1) |&gt;\n  add_model(CLTREE_model)"
  },
  {
    "objectID": "Modeling.html#fit-the-cltree-model-to-cv-folds",
    "href": "Modeling.html#fit-the-cltree-model-to-cv-folds",
    "title": "Modeling",
    "section": "Fit the CLTREE Model to CV Folds",
    "text": "Fit the CLTREE Model to CV Folds\n\nCLTREE_grid &lt;- grid_regular(cost_complexity(),\n                          tree_depth(),\n                          levels = c(10, 5))\n\nCLTREE_fits &lt;- CLTREE_wkf |&gt; \n  tune_grid(resamples = df_CV_folds,\n            metrics = metric_set(mn_log_loss),\n            grid = CLTREE_grid)\n\nPruning helps prevent overfitting by removing branches that have little impact on prediction accuracy. The cost_complexity parameter balances model complexity and generalization. tree_depth is the maximum number of levels (or layers) allowed in the decision tree."
  },
  {
    "objectID": "Modeling.html#select-the-best-cltree-model-with-select_best",
    "href": "Modeling.html#select-the-best-cltree-model-with-select_best",
    "title": "Modeling",
    "section": "Select the Best CLTREE Model with select_best()",
    "text": "Select the Best CLTREE Model with select_best()\n\nCLTREE_best &lt;- select_best(CLTREE_fits, metric = \"mn_log_loss\")"
  },
  {
    "objectID": "Modeling.html#define-random-forest-rf-model-and-engine",
    "href": "Modeling.html#define-random-forest-rf-model-and-engine",
    "title": "Modeling",
    "section": "Define Random Forest (RF) Model and Engine",
    "text": "Define Random Forest (RF) Model and Engine\n\nRF_model &lt;- rand_forest(mode = \"classification\", mtry = tune()) |&gt;\nset_engine(\"ranger\", importance = \"impurity\")"
  },
  {
    "objectID": "Modeling.html#create-workflow-for-rf-model",
    "href": "Modeling.html#create-workflow-for-rf-model",
    "title": "Modeling",
    "section": "Create Workflow for RF Model",
    "text": "Create Workflow for RF Model\n\nRF_wkf &lt;- workflow() |&gt; \n  add_recipe(recipe1) |&gt;\nadd_model(RF_model)\n\nsaveRDS(RF_wkf,file = \"RF_wkf_out.RDS\")"
  },
  {
    "objectID": "Modeling.html#fit-the-rf-model-to-cv-folds",
    "href": "Modeling.html#fit-the-rf-model-to-cv-folds",
    "title": "Modeling",
    "section": "Fit the RF Model to CV Folds",
    "text": "Fit the RF Model to CV Folds\n\nRF_tuned &lt;- RF_wkf |&gt;\ntune_grid(resamples = df_CV_folds,\ngrid = 7, \nmetrics = metric_set(mn_log_loss))\n\ni Creating pre-processing data to finalize unknown parameter: mtry"
  },
  {
    "objectID": "Modeling.html#select-the-best-rf-model-with-select_best",
    "href": "Modeling.html#select-the-best-rf-model-with-select_best",
    "title": "Modeling",
    "section": "Select the Best RF Model with select_best()",
    "text": "Select the Best RF Model with select_best()\n\nRF_best &lt;- select_best(RF_tuned, metric = \"mn_log_loss\")"
  },
  {
    "objectID": "Modeling.html#fit-the-cltree-model-to-the-test-set",
    "href": "Modeling.html#fit-the-cltree-model-to-the-test-set",
    "title": "Modeling",
    "section": "Fit the CLTREE model to the Test Set",
    "text": "Fit the CLTREE model to the Test Set\n\nCLTREE_final &lt;- CLTREE_wkf |&gt;\n  finalize_workflow(CLTREE_best) |&gt;\n  last_fit(df_split)"
  },
  {
    "objectID": "Modeling.html#fit-the-rf-model-to-the-test-set",
    "href": "Modeling.html#fit-the-rf-model-to-the-test-set",
    "title": "Modeling",
    "section": "Fit the RF model to the Test Set",
    "text": "Fit the RF model to the Test Set\n\nRF_final &lt;- RF_wkf |&gt;\n  finalize_workflow(RF_best) |&gt;\n  last_fit(df_split)"
  },
  {
    "objectID": "EDA.html#summary-statistics",
    "href": "EDA.html#summary-statistics",
    "title": "EDA",
    "section": "Summary Statistics",
    "text": "Summary Statistics\n\n# Numeric Summaries\nsummary(df)\n\n Diabetes   High_BP    High_Chol  Chol_Check      BMI        Smoker    \n 0:218334   0:144851   0:146089   0:  9470   Min.   :12.00   0:141257  \n 1: 35346   1:108829   1:107591   1:244210   1st Qu.:24.00   1:112423  \n                                             Median :27.00             \n                                             Mean   :28.38             \n                                             3rd Qu.:31.00             \n                                             Max.   :98.00             \n                                                                       \n Stroke     Heart_Cond Phys_Act   Fruits     Veggies    Alcohol    Health_Ins\n 0:243388   0:229787   0: 61760   0: 92782   0: 47839   0:239424   0: 12417  \n 1: 10292   1: 23893   1:191920   1:160898   1:205841   1: 14256   1:241263  \n                                                                             \n                                                                             \n                                                                             \n                                                                             \n                                                                             \n Doctor_Cost Gen_Hlth   Mental_Hlth       Phys_Hlth      Diff_Walk  Sex       \n 0:232326    1:45299   Min.   : 0.000   Min.   : 0.000   0:211005   0:141974  \n 1: 21354    2:89084   1st Qu.: 0.000   1st Qu.: 0.000   1: 42675   1:111706  \n             3:75646   Median : 0.000   Median : 0.000                        \n             4:31570   Mean   : 3.185   Mean   : 4.242                        \n             5:12081   3rd Qu.: 2.000   3rd Qu.: 3.000                        \n                       Max.   :30.000   Max.   :30.000                        \n                                                                              \n   Age_Group     Education      Income     \n 9      :33244   1:   174   8      :90385  \n 10     :32194   2:  4043   7      :43219  \n 8      :30832   3:  9478   6      :36470  \n 7      :26314   4: 62750   5      :25883  \n 11     :23533   5: 69910   4      :20135  \n 6      :19819   6:107325   3      :15994  \n (Other):87744              (Other):21594  \n\n#Correlation Statistics\n\n#Tetrachoric Correlation Matrix for Binary Variables\ndf_binary &lt;- df |&gt; mutate(across(c(1:4,6:14,18,19), as.numeric)) |&gt; select(c(1:4,6:14,18,19)) \n                          \ntetra_corr &lt;- tetrachoric(df_binary)$rho\ncat(\"\\n\")\nprint(\"Tetrachoric Correlation Matrix\")\n\n[1] \"Tetrachoric Correlation Matrix\"\n\nprint(tetra_corr)\n\n               Diabetes     High_BP   High_Chol  Chol_Check      Smoker\nDiabetes     1.00000000  0.49667734  0.38044771  0.34880301  0.11832227\nHigh_BP      0.49667734  1.00000000  0.45415526  0.31641085  0.15294074\nHigh_Chol    0.38044771  0.45415526  1.00000000  0.27112988  0.14414682\nChol_Check   0.34880301  0.31641085  0.27112988  1.00000000 -0.02896936\nSmoker       0.11832227  0.15294074  0.14414682 -0.02896936  1.00000000\nStroke       0.29173266  0.36602136  0.25918620  0.16719805  0.17218529\nHeart_Cond   0.37585356  0.44661800  0.38474570  0.24523950  0.24644512\nPhys_Act    -0.23206472 -0.21262285 -0.13349496  0.01324795 -0.14921331\nFruits      -0.08031815 -0.06529432 -0.06582884  0.06969495 -0.12444596\nVeggies     -0.12089161 -0.11082520 -0.07239795  0.02030543 -0.05568589\nAlcohol     -0.22398890 -0.01020566 -0.02978291 -0.09823725  0.25703520\nHealth_Ins   0.05687977  0.10503313  0.11594244  0.35989311 -0.06185146\nDoctor_Cost  0.08302163  0.03914992  0.03006853 -0.19468658  0.10967766\nDiff_Walk    0.41298506  0.40389040  0.26480098  0.16356948  0.22555877\nSex          0.06143829  0.08264315  0.04949318 -0.06430998  0.14752610\n                  Stroke  Heart_Cond    Phys_Act      Fruits     Veggies\nDiabetes     0.291732656  0.37585356 -0.23206472 -0.08031815 -0.12089161\nHigh_BP      0.366021357  0.44661800 -0.21262285 -0.06529432 -0.11082520\nHigh_Chol    0.259186198  0.38474570 -0.13349496 -0.06582884 -0.07239795\nChol_Check   0.167198055  0.24523950  0.01324795  0.06969495  0.02030543\nSmoker       0.172185291  0.24644512 -0.14921331 -0.12444596 -0.05568589\nStroke       1.000000000  0.48919703 -0.19307059 -0.03838057 -0.12323702\nHeart_Cond   0.489197027  1.00000000 -0.19148499 -0.04363495 -0.09357216\nPhys_Act    -0.193070591 -0.19148499  1.00000000  0.24207145  0.27869112\nFruits      -0.038380570 -0.04363495  0.24207145  1.00000000  0.43709890\nVeggies     -0.123237017 -0.09357216  0.27869112  0.43709890  1.00000000\nAlcohol     -0.088574224 -0.11650684  0.03524327 -0.08993055  0.06507506\nHealth_Ins   0.045160445  0.07544508  0.09809250  0.08409100  0.08581780\nDoctor_Cost  0.122878486  0.08955085 -0.14225170 -0.09960729 -0.08001404\nDiff_Walk    0.436617595  0.42905514 -0.44365095 -0.09076950 -0.16221075\nSex          0.008478742  0.18576485  0.05614562 -0.14591970 -0.11706221\n                Alcohol  Health_Ins Doctor_Cost   Diff_Walk          Sex\nDiabetes    -0.22398890  0.05687977  0.08302163  0.41298506  0.061438290\nHigh_BP     -0.01020566  0.10503313  0.03914992  0.40389040  0.082643148\nHigh_Chol   -0.02978291  0.11594244  0.03006853  0.26480098  0.049493176\nChol_Check  -0.09823725  0.35989311 -0.19468658  0.16356948 -0.064309976\nSmoker       0.25703520 -0.06185146  0.10967766  0.22555877  0.147526097\nStroke      -0.08857422  0.04516044  0.12287849  0.43661760  0.008478742\nHeart_Cond  -0.11650684  0.07544508  0.08955085  0.42905514  0.185764855\nPhys_Act     0.03524327  0.09809250 -0.14225170 -0.44365095  0.056145623\nFruits      -0.08993055  0.08409100 -0.09960729 -0.09076950 -0.145919696\nVeggies      0.06507506  0.08581780 -0.08001404 -0.16221075 -0.117062209\nAlcohol      1.00000000 -0.04296736  0.01682434 -0.12632871  0.014697557\nHealth_Ins  -0.04296736  1.00000000 -0.52480492  0.02281539 -0.051670929\nDoctor_Cost  0.01682434 -0.52480492  1.00000000  0.26856458 -0.102891106\nDiff_Walk   -0.12632871  0.02281539  0.26856458  1.00000000 -0.132921142\nSex          0.01469756 -0.05167093 -0.10289111 -0.13292114  1.000000000\n\n#Point-BiSerial Correlation Matrix for Ordinal and Continuous Variables\n# Source - https://stackoverflow.com/a/77630670\n\n#create a function \npoint_biserial_cor &lt;- function(binary_var, continuous_var) {\n  cor.test(as.numeric(binary_var), as.numeric(continuous_var), method = \"pearson\")$estimate\n}\n\n# Identify binary and continuous variables\nbinary_var &lt;- names(df[1])\ncontinuous_vars &lt;- names(df[c(5, 15:17, 20:22)])\n\n# Do the correlation matrix\npbs_cor_matrix &lt;- matrix(NA, nrow = length(continuous_vars), ncol = 1, dimnames = list(continuous_vars, binary_var))\n\n# Calculate correlations\nfor (var in continuous_vars) {\n  pbs_cor_matrix[var, binary_var] &lt;- point_biserial_cor(df[[binary_var]], df[[var]])\n}\n\n# View the correlation matrix\ncat(\"\\n\")\nprint(\"Point Biserial Correlation Matrix\")\n\n[1] \"Point Biserial Correlation Matrix\"\n\nprint(pbs_cor_matrix)\n\n               Diabetes\nBMI          0.21684306\nGen_Hlth     0.29356906\nMental_Hlth  0.06931508\nPhys_Hlth    0.17133670\nAge_Group    0.17744187\nEducation   -0.12445597\nIncome      -0.16391879\n\n\nI developed code that generated 2 -Way Contingency Tables for all the variables against Diabetes, but they would not render to HTML. So, I left the code in the document but set eval = FALSE. If you run the code chunk for Categorical Variables Summaries you can have a look at the Tables and look for differences in percentages in the rows between Diabetes = 0 and Diabetes = 1.\nI did perform correlation studies. Tetrachoric correlation is a measure of the correlation between two binary variables. This type of correlation is often used in surveys and personality tests in which the questions being asked only have two possible response values. The value for a tetrachoric correlation can range from -1 to 1 where:\n-1 indicates a strong negative correlation between the two variables. 0 indicates no correlation between the two variables. (Statology.org)\nFrom inspection of the Tetrachoric Correlation Matrix, there appears to be some moderate correlation between Diabetes and the following binary predictor variables:\n\nHigh_BP (50%)\nDiff_Walk (41%)\nHigh_Chol (38%)\nHeart_Cond (38%)\nStroke (29%)\nPhys_Act (-23%)\nAlcohol (-23%)\n\nPoint-biserial correlation is used to measure the relationship between a binary variable, x, and a continuous variable, y. Similar to the Pearson correlation coefficient, the point-biserial correlation coefficient takes on a value between -1 and 1 where:\n-1 indicates a perfectly negative correlation between two variables 0 indicates no correlation between two variables 1 indicates a perfectly positive correlation between two variables (Statology.org)\nFrom inspection of the Point-biserial correlation matrix, there appears to be some moderate correlation between Diabetes and the following ordinal and continuous predictor variables:\n\nBMI(22%)\nGen_Hlth(29%)\n\nFor all of my assessments here on correlation, I used 20% as the cutoff, which is still not a strong correlation. The strongest correlations with Diabetes from this data are High Blood Pressure, High Cholesterol, Heart Condition and Difficulty Walking. Note that all these have correlations with each other at approximately 40% levels. I am not sure if this is enough to collapse them into one variable."
  },
  {
    "objectID": "EDA.html#graphical-summaries",
    "href": "EDA.html#graphical-summaries",
    "title": "EDA",
    "section": "Graphical Summaries",
    "text": "Graphical Summaries\n\n#Histograms of Ordinal and Continuous Variables\nhist(df$BMI, xlab=\"BMI\", main=\"Histogram of BMI\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Gen_Hlth), xlab=\"Gen_Hlth\", main=\"Histogram of Gen_Hlth\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Mental_Hlth), xlab=\"Mental_Hlth\", main=\"Histogram of Mental_Hlth\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Phys_Hlth), xlab=\"Phys_Hlth\", main=\"Histogram of Phys_Hlth\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Age_Group), xlab=\"Age Group\", main=\"Histogram of Age Group\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Education), xlab=\"Education\", main=\"Histogram of Education\")\n\n\n\n\n\n\n\nhist(as.numeric(df$Income), xlab=\"Income\", main=\"Histogram of Income\")\n\n\n\n\n\n\n\n#Grouped Bar Plots\nggplot(data = df, aes(x= Diabetes , fill = High_BP)) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Diabetes\") +\n  scale_fill_discrete(\"High_BP\") +\n  labs(title = \"Count of Diabetes by High_BP\", x = \"Diabetes\", y = \"Count by HighBP\")\n\n\n\n\n\n\n\nggplot(data = df, aes(x= Diabetes , fill = Alcohol )) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Diabetes\") +\n  scale_fill_discrete(\"Alcohol\") +\n  labs(title = \"Count of Diabetes by Alcohol\", x = \"Diabetes\", y = \"Count by Alcohol\")\n\n\n\n\n\n\n\nggplot(data = df, aes(x= Diabetes , fill = Sex )) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Diabetes\") +\n  scale_fill_discrete(\"Sex\") +\n  labs(title = \"Count of Diabetes by Sex\", x = \"Diabetes\", y = \"Count by Sex\")\n\n\n\n\n\n\n\n#Box Plots\nggplot(df, aes(x = Age_Group , y = Diabetes )) +\n  geom_boxplot() + labs(title = \"Boxplot of Diabetes by Age Group\", x = \"Age Group\", y = \"Diabetes\") +\n  scale_x_discrete(breaks=seq(min(as.numeric(df$Age_Group)),max(as.numeric(df$Age_Group)),by=1))\n\n\n\n\n\n\n\nggplot(df, aes(x = BMI , y = Diabetes )) +\n  geom_boxplot() + labs(title = \"Boxplot of Diabetes by BMI\", x = \"BMI\", y = \"Diabetes\")\n\n\n\n\n\n\n\nggplot(df, aes(x= Age_Group, y= Diabetes)) +\n geom_boxplot(notch=FALSE, outlier.shape=NA, fill=\"red\", alpha=0.1)+\n theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +\n  scale_x_discrete(breaks=seq(min(as.numeric(df$Age_Group)),max(as.numeric(df$Age_Group)),by=1))  + \n  \n facet_wrap(. ~ Education, scales = \"free_y\") +\n  theme(axis.text.x = element_text(angle = 90, vjust=.5, hjust=1)) + \n  labs(title = \"Boxplots of Diabetes by Age Group and Education\", x = \"Age Group\", y = \"Diabetes\")\n\n\n\n\n\n\n\nggplot(df, aes(x= Age_Group, y= Diabetes)) +\n geom_boxplot(notch=FALSE, outlier.shape=NA, fill=\"red\", alpha=0.1)+\n theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +\n  scale_x_discrete(breaks=seq(min(as.numeric(df$Age_Group)),max(as.numeric(df$Age_Group)),by=1))  + \n  \n facet_wrap(. ~ Income, scales = \"free_y\") +\n  theme(axis.text.x = element_text(angle = 90, vjust=.5, hjust=1)) + \n  labs(title = \"Boxplots of Diabetes by Age Group and Income\", x = \"Age Group\", y = \"Diabetes\")\n\n\n\n\n\n\n\n#Mosaic Plots\nmosaic(data = df, ~ Education + Diabetes, highlighting = \"Diabetes\",\n       highlighting_fill = c(\"lightblue\", \"pink\"),\n       rot_labels=c(0,90,0,0), just_labels=c(\"left\",\"right\"),\n       main = \"Mosaic Plot of Diabetes and Education\")\n\n\n\n\n\n\n\nmosaic(data = df, ~ Income + Diabetes, highlighting = \"Diabetes\",\n       highlighting_fill = c(\"lightblue\", \"pink\"),\n       rot_labels=c(0,90,0,0), just_labels=c(\"left\",\"right\"),\n       main = \"Mosaic Plot of Diabetes and Income\")\n\n\n\n\n\n\n\nmosaic(data = df, ~ High_BP + Diabetes, highlighting = \"Diabetes\",\n       highlighting_fill = c(\"lightblue\", \"pink\"),\n       rot_labels=c(0,90,0,0), just_labels=c(\"left\",\"right\"),\n       main = \"Mosaic Plot of Diabetes and High_BP\")\n\n\n\n\n\n\n\nmosaic(data = df, ~ Age_Group + Diabetes, highlighting = \"Diabetes\",\n       highlighting_fill = c(\"lightblue\", \"pink\"),\n       rot_labels=c(0,90,0,0), just_labels=c(\"left\",\"right\"),\n       main = \"Mosaic Plot of Diabetes and Age Group\")\n\n\n\n\n\n\n\n\nThe histograms show something interesting. From inspection of the Income and Education Histograms, it appears as though there is a bias in the sample toward higher education and higher income individuals. I cannot imagine that was a desired outcome, but it looks like a defect in the sampling plan.\nThe Bar Plots show what we expect with HighBP having an effect on Diabetes. We can also see that Sex does not seem to have much of an effect, and it could be argued that Alcohol has a positive effect on the Diabetes out come.\nThe Box Plots of Diabetes vs. Age and Income seem to show a different picture than the Mosaic Plots. Here, on the faceted Boxplot of Diabetes vs. Age and Income it is not really discernible if there is a difference. The Box Plot of Diabetes vs. BMI suggests that BMI does not have a strong impact on Diabetes. The Boxplot of Diabetes vs Age suggests that Age does have an effect on Diabetes and this agrees with the Mosaic Plot.\nA mosaic plot is a graphical representation of the relationships in a contingency table, showing the proportions of combinations of categorical variables as tiles. It’s useful for visualizing associations between two or more categorical variables. The mosaic plot for Income and Diabetes shows a trend in higher incidence of Diabetes for lower income individuals. With the sample bias toward higher income individuals, the relationship of Diabetes to Income might be much greater than we see in this survey."
  },
  {
    "objectID": "EDA.html#link-to-modeling-page",
    "href": "EDA.html#link-to-modeling-page",
    "title": "EDA",
    "section": "Link to Modeling Page",
    "text": "Link to Modeling Page\nClick Here for Modeling Page"
  }
]